{% extends "base.html" %}
{% block title %}Profil{% endblock %}
{% block content %}
<div class="profile-container container">
    <div class="profile-header">
        <div class="profile-info">
            <div class="profile-avatar">
                {{ current_user.username[0] | upper }}
            </div>
            <div class="profile-meta">
                <h1>{{ current_user.username }}</h1>
                <p class="text-muted">Manga sever</p>
            </div>
        </div>
        <div class="profile-stats">
            <div class="stat-item">
                <span class="stat-value">{{ favorites|length }}</span>
                <span class="stat-label">Favori</span>
            </div>
            <div class="stat-item">
                <span class="stat-value">{{ to_read|length }}</span>
                <span class="stat-label">Okunacak</span>
            </div>
        </div>
    </div>

    <div class="profile-content">
        <section class="profile-section">
            <div class="section-header">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l8.84-8.84 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                <h3>Favorilerim</h3>
            </div>
            <div class="manga-grid">
                {% for item in favorites %}
                    <a href="{{ url_for('manga.manga_detail', slug=item.manga.slug) }}" class="manga-card">
                        <div class="manga-cover-wrap">
                            {% if item.cover %}
                                <img src="{{ item.cover }}" alt="{{ item.manga.title }}" loading="lazy" class="manga-cover">
                            {% else %}
                                <div class="manga-cover" style="background: var(--bg-soft); display: flex; align-items: center; justify-content: center;">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--border)" stroke-width="1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
                                </div>
                            {% endif %}
                            <div class="manga-overlay">
                                <span class="manga-badge">Favori</span>
                            </div>
                        </div>
                        <div class="manga-info">
                            <h4 class="manga-title">{{ item.manga.title }}</h4>
                        </div>
                    </a>
                {% else %}
                    <div class="empty-state">
                        <p>Henüz favori manganız yok.</p>
                        <a href="{{ url_for('manga.manga_list') }}" class="btn btn-primary btn-sm">Manga Keşfet</a>
                    </div>
                {% endfor %}
            </div>
        </section>

        <section class="profile-section">
            <div class="section-header">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
                <h3>Okunacaklar</h3>
            </div>
            <div class="manga-grid">
                {% for item in to_read %}
                    <a href="{{ url_for('manga.manga_detail', slug=item.manga.slug) }}" class="manga-card">
                        <div class="manga-cover-wrap">
                            {% if item.cover %}
                                <img src="{{ item.cover }}" alt="{{ item.manga.title }}" loading="lazy" class="manga-cover">
                            {% else %}
                                <div class="manga-cover" style="background: var(--bg-soft); display: flex; align-items: center; justify-content: center;">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--border)" stroke-width="1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
                                </div>
                            {% endif %}
                            <div class="manga-overlay">
                                <span class="manga-badge">Okunacak</span>
                            </div>
                        </div>
                        <div class="manga-info">
                            <h4 class="manga-title">{{ item.manga.title }}</h4>
                        </div>
                    </a>
                {% else %}
                    <div class="empty-state">
                        <p>Okuma listeniz boş.</p>
                    </div>
                {% endfor %}
            </div>
        </section>
    </div>
</div>
{% endblock %}
